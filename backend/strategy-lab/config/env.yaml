# strategy-lab/config/env.yaml
# --------------------------------------------------------------------
# Environment configuration for Strategy Lab
# --------------------------------------------------------------------
# This file centralizes parameters that affect runtime behavior:
# - Mode (dev/backtest/paper/live)
# - Data providers and paths
# - Broker connection details
# - Risk / capital settings
# - Logging and monitoring
# --------------------------------------------------------------------

mode: dev        # dev | backtest | paper | live

data:
  provider: local         # local | yahoo | polygon | binance | alpaca
  local_path: ./data      # where CSV/Parquet lives if provider=local
  cache: true
  lookback_days: 365

broker:
  name: in_memory         # in_memory | alpaca | ibkr | binance
  account_id: DEMO123
  base_currency: USD
  paper_trading: true
  alpaca:
    key_id: ${ALPACA_KEY_ID}
    secret_key: ${ALPACA_SECRET_KEY}
  ibkr:
    gateway_host: 127.0.0.1
    gateway_port: 7497

risk:
  starting_cash: 1_000_000
  max_per_order_notional: 1_000_000
  max_symbol_exposure_usd: 2_000_000
  max_gross_exposure_usd: 5_000_000
  max_leverage: 5.0

monitoring:
  heartbeat_sec: 5
  alert_sink: stdout       # stdout | file | webhook
  alert_file: ./logs/alerts.jsonl

logging:
  level: INFO              # DEBUG | INFO | WARN | ERROR
  json_mode: true
  log_file: ./logs/strategy_lab.log

strategies:
  rebalance_cadence_sec: 60
  cash_buffer: 0.02        # 2% kept as cash
  per_symbol_cap: 0.10     # max 10% weight in any one symbol
  global_gross_cap: 1.0
  long_cap: 0.60
  short_cap: 0.60
  min_trade_notional: 50
  min_shares: 1

# --------------------------------------------------------------------
# Tip:
# - You can override these with environment variables at runtime.
# - Keep sensitive keys (API, secrets) in a separate `.env` file.
# --------------------------------------------------------------------